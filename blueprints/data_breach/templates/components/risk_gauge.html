<!-- templates/components/risk_gauge.html -->
{% macro risk_gauge(score, size=150, thickness=8) %}
<div class="relative inline-block" style="width: {{ size }}px; height: {{ size }}px;">
    <svg class="w-full h-full" viewBox="0 0 36 36">
        <path class="stroke-current text-gray-600" 
              stroke-width="{{ thickness/4 }}" 
              fill="none" 
              d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"></path>
        <path class="stroke-current {% if score < 25 %}text-green-500
                   {% elif score < 50 %}text-yellow-500
                   {% elif score < 75 %}text-orange-500
                   {% else %}text-red-500{% endif %}"
              stroke-width="{{ thickness/4 }}" 
              fill="none" 
              stroke-linecap="round"
              stroke-dasharray="{{ score }}, 100"
              d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"></path>
        <text x="18" y="18.5" class="fill-current text-white text-3xl font-bold" text-anchor="middle">{{ score }}</text>
        <text x="18" y="24" class="fill-current text-gray-400 text-xs" text-anchor="middle">/100</text>
    </svg>
</div>
{% endmacro %}